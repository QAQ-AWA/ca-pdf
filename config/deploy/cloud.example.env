# Example configuration file consumed by deploy.sh
# Copy to config/deploy/<environment>.env and update the values before use.

# SSH user that has permissions to manage Docker on the target machines.
SSH_USER=deploy

# Absolute path on the remote hosts where the application should live.
REMOTE_WORKDIR=/opt/monorepo

# Comma-separated lists of hosts grouped by architecture.
AMD64_HOSTS=amd64-node-1.example.com,amd64-node-2.example.com
ARM64_HOSTS=arm64-node-1.example.com

# Compose project settings.
COMPOSE_PROJECT_NAME=monorepo
COMPOSE_FILE=deploy/docker-compose.yml
AMD64_COMPOSE_FILE=
ARM64_COMPOSE_FILE=
COMPOSE_ENV_FILE=deploy/.env

# Repository synchronisation behaviour.
SYNC_WITH_RSYNC=true
RSYNC_EXCLUDES=.git,.github,node_modules,__pycache__,.pytest_cache,.mypy_cache,.ruff_cache,.venv,frontend/.vite,frontend/dist

# Deployment strategy toggles.
DEPLOY_PULL=true
DEPLOY_BUILD=true

# Optional additional docker compose flags appended to every invocation.
GLOBAL_COMPOSE_FLAGS=
