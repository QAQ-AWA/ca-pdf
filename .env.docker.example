# Overrides for Docker Compose deployments
# Copy to .env.docker and adjust for your environment.

# Backend runtime
DATABASE_URL=postgresql+asyncpg://app_user:app_password@db:5432/app_db
BACKEND_CORS_ORIGINS=https://app.localtest.me
LOG_LEVEL=INFO
METRICS_ENDPOINT=/metrics
ENABLE_CORS=true
CORS_ALLOW_CREDENTIALS=false
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type
CORS_EXPOSE_HEADERS=X-Request-ID
CORS_MAX_AGE=600
TRUSTED_HOSTS=api.localtest.me
ENABLE_PROXY_HEADERS=true
PROXY_TRUSTED_HOSTS=172.16.0.0/12
FORCE_HTTPS_REDIRECT=true
ENABLE_SECURITY_HEADERS=true
SECURITY_HSTS_SECONDS=63072000
SECURITY_HSTS_INCLUDE_SUBDOMAINS=true
SECURITY_HSTS_PRELOAD=true
SECURITY_REFERRER_POLICY=same-origin
# SECURITY_PERMISSIONS_POLICY=
# SECURITY_CROSS_ORIGIN_OPENER_POLICY=
# SECURITY_CROSS_ORIGIN_EMBEDDER_POLICY=
# SECURITY_CROSS_ORIGIN_RESOURCE_POLICY=
SECRET_KEY=change-me
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_MINUTES=4320
ENCRYPTED_STORAGE_MASTER_KEY=

# PostgreSQL service
POSTGRES_DB=app_db
POSTGRES_USER=app_user
POSTGRES_PASSWORD=app_password
POSTGRES_HOST_PORT=5432

# Traefik / TLS
TRAEFIK_ACME_EMAIL=dev@example.com
TRAEFIK_ACME_CA_SERVER=https://acme-staging-v02.api.letsencrypt.org/directory
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_LOG_LEVEL=INFO
BACKEND_DOMAIN=api.localtest.me
FRONTEND_DOMAIN=app.localtest.me

# Frontend build arguments
VITE_API_BASE_URL=https://api.localtest.me
VITE_APP_NAME=Monorepo UI
